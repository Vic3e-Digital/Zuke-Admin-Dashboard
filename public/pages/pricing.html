<link rel="stylesheet" href="../css/formStyle.css">
<style>
  /* Override base for pricing page */
  body {
    background: #F5F5F7;
  }

  .pricing-wrapper {
    max-width: 1200px;
    margin: 0 auto;
    padding: 40px 20px;
  }

  /* Header Section - Above FAQ */
  .pricing-top-section {
    margin-bottom: 40px;
  }

  /* Wallet Info */
  .wallet-info {
    background: linear-gradient(135deg, var(--primary-orange), var(--alt-orange));
    color: white;
    padding: 20px 24px;
    border-radius: 8px;
    text-align: center;
    margin-bottom: 20px;
    box-shadow: 0 4px 12px rgba(255, 139, 0, 0.2);
  }

  .wallet-info h3 {
    margin: 0 0 6px 0;
    font-size: 13px;
    opacity: 0.95;
    font-weight: 500;
  }

  .wallet-balance {
    font-size: 2rem;
    font-weight: 700;
  }

  /* Welcome Header */
  .pricing-header {
    text-align: left;
    margin-bottom: 30px;
  }

  .welcome-text {
    color: var(--primary-orange);
    font-size: 12px;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 1.2px;
    margin-bottom: 12px;
  }

  .pricing-header h1 {
    font-size: 2.2rem;
    margin-bottom: 0;
    color: var(--dark-neutral);
    font-weight: 700;
    letter-spacing: -0.5px;
  }

  /* Wallet info in left column */
  .faq-column .wallet-info {
    margin-bottom: 20px;
  }

  /* Step Container */
  .step-container {
    display: none;
  }

  .step-container.active {
    display: block;
  }

  /* Two Column Layout */
  .pricing-content {
    display: grid;
    grid-template-columns: 360px 1fr;
    gap: 24px;
    align-items: start;
  }

  /* LEFT: FAQ Section */
  .faq-column {
    position: sticky;
    top: 20px;
  }

  .faq-column-title {
    font-size: 16px;
    font-weight: 600;
    color: var(--dark-neutral);
    margin-bottom: 16px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
  }

  .faq-list {
    display: flex;
    flex-direction: column;
    gap: 0;
  }

  .faq-item {
    background: transparent;
    border: none;
    border-radius: 0;
    overflow: hidden;
  }

  .faq-question {
    width: 100%;
    padding: 14px 0;
    background: transparent;
    border: none;
    border-bottom: 1px solid #E0E0E0;
    text-align: left;
    font-size: 14px;
    font-weight: 600;
    color: var(--dark-neutral);
    cursor: pointer;
    display: flex;
    justify-content: space-between;
    align-items: center;
    transition: all 0.2s;
  }

  .faq-question:hover {
    color: var(--primary-orange);
  }

  .faq-question::after {
    content: '+';
    font-size: 20px;
    color: #999;
    font-weight: 300;
    transition: all 0.3s;
    flex-shrink: 0;
    margin-left: 12px;
    line-height: 1;
  }

  .faq-question.active {
    color: var(--primary-orange);
  }

  .faq-question.active::after {
    content: '‚àí';
    color: var(--primary-orange);
  }

  .faq-answer {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.3s ease;
    background: transparent;
  }

  .faq-answer.active {
    max-height: 400px;
  }

  .faq-answer p {
    margin: 0;
    padding: 10px 0 16px 0;
    color: var(--text-secondary);
    line-height: 1.5;
    font-size: 13px;
  }

  /* RIGHT: Plans Column - More Compact */
  .plans-column {
    background: transparent;
    /* border: 1px solid var(--border-color); */
    /* border-radius: 8px; */
    padding: 24px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
    max-width: 650px;
  }

  /* Billing Toggle - Compact */
  .billing-toggle {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 12px;
    margin-bottom: 20px;
    padding: 0;
    background: transparent;
  }

  .billing-toggle span {
    font-weight: 500;
    color: var(--dark-neutral);
    font-size: 14px;
  }

  .toggle-switch {
    position: relative;
    width: 52px;
    height: 28px;
    background: #E0E0E0;
    border-radius: 28px;
    cursor: pointer;
    transition: all 0.3s;
  }

  .toggle-switch.yearly {
    background: var(--primary-orange);
  }

  .toggle-switch::after {
    content: '';
    position: absolute;
    width: 24px;
    height: 24px;
    border-radius: 50%;
    background: white;
    top: 2px;
    left: 2px;
    transition: transform 0.3s;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
  }

  .toggle-switch.yearly::after {
    transform: translateX(24px);
  }

  /* Plan Options - Compact */
  .plan-options {
    display: flex;
    flex-direction: column;
    gap: 10px;
  }

  .plan-card {
    border: 2px solid var(--border-color);
    border-radius: 6px;
    padding: 16px;
    cursor: pointer;
    transition: all 0.2s;
    display: flex;
    align-items: center;
    gap: 12px;
    background: white;
    position: relative;
  }

  .plan-card:hover:not(.current-plan) {
    border-color: var(--primary-orange);
    background: #FFF8F0;
  }

  .plan-card.selected {
    border-color: var(--primary-orange);
    background: #FFF8F0;
    box-shadow: 0 4px 12px rgba(255, 139, 0, 0.15);
  }

  .plan-card.current-plan {
    border-color: #ff8b00;
    background: #F0F8FF;
    cursor: not-allowed;
    opacity: 0.75;
  }

  /* Radio Button */
  .plan-radio {
    width: 18px;
    height: 18px;
    border: 2px solid #D0D0D0;
    border-radius: 50%;
    flex-shrink: 0;
    position: relative;
    background: white;
  }

  .plan-card.selected .plan-radio {
    border-color: var(--primary-orange);
    background: var(--primary-orange);
  }

  .plan-card.selected .plan-radio::after {
    content: '‚úì';
    position: absolute;
    color: white;
    font-size: 11px;
    font-weight: bold;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
  }

  .plan-content {
    flex: 1;
    min-width: 0;
  }

  .plan-name {
    font-size: 15px;
    font-weight: 700;
    color: var(--dark-neutral);
    margin-bottom: 2px;
  }

  .plan-description {
    font-size: 12px;
    color: var(--text-secondary);
    line-height: 1.4;
  }

  .plan-pricing {
    text-align: right;
    flex-shrink: 0;
  }

  .plan-price {
    font-size: 1.4rem;
    font-weight: 700;
    color: var(--dark-neutral);
    white-space: nowrap;
  }

  .plan-price small {
    font-size: 0.85rem;
    font-weight: 500;
    color: var(--text-secondary);
  }

  .plan-price-strike {
    font-size: 11px;
    color: #999;
    text-decoration: line-through;
    display: block;
    margin-top: 2px;
  }

  .current-plan-badge {
    position: absolute;
    top: -8px;
    right: 16px;
    background: #3498db;
    color: white;
    padding: 3px 10px;
    border-radius: 12px;
    font-size: 10px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.5px;
  }

  /* Action Buttons */
  .action-buttons {
    margin-top: 20px;
    display: flex;
    gap: 10px;
  }

  .btn-continue {
    flex: 1;
    padding: 12px 24px;
    background: linear-gradient(135deg, var(--primary-orange), var(--alt-orange));
    color: white;
    border: none;
    border-radius: 6px;
    font-weight: 600;
    font-size: 14px;
    cursor: pointer;
    transition: all 0.2s;
  }

  .btn-continue:hover:not(:disabled) {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(255, 139, 0, 0.3);
  }

  .btn-continue:disabled {
    opacity: 0.5;
    cursor: not-allowed;
    transform: none;
  }

  .comparison-link {
    text-align: center;
    margin-top: 16px;
  }

  .comparison-link a {
    color: var(--text-secondary);
    text-decoration: none;
    font-weight: 500;
    font-size: 13px;
    display: inline-flex;
    align-items: center;
    gap: 4px;
    transition: color 0.2s;
  }

  .comparison-link a:hover {
    color: var(--primary-orange);
  }

  /* STEP 2: Payment Method - Compact */
  .step-indicator {
    text-align: center;
    margin-bottom: 20px;
    color: var(--text-secondary);
    font-size: 13px;
  }

  .step-indicator strong {
    color: var(--dark-neutral);
  }

  .payment-section {
    max-width: 600px;
    margin: 0 auto;
    background: white;
    border: 1px solid var(--border-color);
    border-radius: 8px;
    padding: 24px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
  }

  .payment-section .pricing-header {
    margin-bottom: 20px;
  }

  .payment-section .pricing-header h1 {
    font-size: 1.6rem;
  }

  .selected-plan-summary {
    background: #FFF8F0;
    border: 2px solid var(--primary-orange);
    border-radius: 6px;
    padding: 16px;
    margin-bottom: 20px;
    text-align: center;
  }

  .selected-plan-summary h3 {
    margin: 0 0 6px 0;
    font-size: 13px;
    color: var(--text-secondary);
    font-weight: 500;
  }

  .selected-plan-summary .plan-detail {
    font-size: 20px;
    font-weight: 700;
    color: var(--dark-neutral);
  }

  /* Auto-Renewal Section */
  .auto-renewal-section {
    background: #F5F5F7;
    border: 1px solid var(--border-color);
    border-radius: 6px;
    padding: 16px;
    margin-bottom: 20px;
    display: flex;
    align-items: center;
    gap: 12px;
  }

  .auto-renewal-section input[type="checkbox"] {
    width: 18px;
    height: 18px;
    cursor: pointer;
    accent-color: var(--primary-orange);
    flex-shrink: 0;
  }

  .auto-renewal-info {
    flex: 1;
  }

  .auto-renewal-info label {
    margin: 0;
    font-size: 14px;
    font-weight: 600;
    color: var(--dark-neutral);
    cursor: pointer;
    display: block;
    margin-bottom: 4px;
  }

  .auto-renewal-info p {
    margin: 0;
    font-size: 12px;
    color: var(--text-secondary);
    line-height: 1.4;
  }

  .payment-methods {
    display: flex;
    flex-direction: column;
    gap: 10px;
    margin-bottom: 20px;
  }

  .payment-card {
    background: white;
    border: 2px solid var(--border-color);
    border-radius: 6px;
    padding: 14px;
    cursor: pointer;
    transition: all 0.2s;
    display: flex;
    align-items: center;
    gap: 12px;
  }

  .payment-card:hover {
    border-color: var(--primary-orange);
    background: #FFF8F0;
  }

  .payment-card.selected {
    border-color: var(--primary-orange);
    background: #FFF8F0;
    box-shadow: 0 4px 12px rgba(255, 139, 0, 0.15);
  }

  .payment-card .plan-radio {
    width: 18px;
    height: 18px;
    border: 2px solid #D0D0D0;
    border-radius: 50%;
    flex-shrink: 0;
    position: relative;
    background: white;
  }

  .payment-card.selected .plan-radio {
    border-color: var(--primary-orange);
    background: var(--primary-orange);
  }

  .payment-card.selected .plan-radio::after {
    content: '‚úì';
    position: absolute;
    color: white;
    font-size: 11px;
    font-weight: bold;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
  }

  .payment-icon {
    width: 44px;
    height: 44px;
    background: #F5F5F7;
    border-radius: 6px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 22px;
    flex-shrink: 0;
  }

  .payment-info {
    flex: 1;
  }

  .payment-info h3 {
    margin: 0 0 2px 0;
    font-size: 15px;
    font-weight: 600;
    color: var(--dark-neutral);
  }

  .payment-info p {
    margin: 0;
    font-size: 12px;
    color: var(--text-secondary);
  }

  /* Promotional Code Section */
  .promo-code-section {
    background: #F5F5F7;
    border: 1px solid var(--border-color);
    border-radius: 6px;
    padding: 16px;
    margin-bottom: 20px;
  }

  .promo-code-section label {
    display: block;
    font-size: 13px;
    font-weight: 600;
    color: var(--dark-neutral);
    margin-bottom: 10px;
  }

  .promo-code-input-group {
    display: flex;
    gap: 8px;
    margin-bottom: 8px;
  }

  .promo-code-input-group input {
    flex: 1;
    padding: 10px 14px;
    border: 2px solid var(--border-color);
    border-radius: 6px;
    font-size: 14px;
    font-weight: 500;
    text-transform: uppercase;
    transition: all 0.2s;
  }

  .promo-code-input-group input:focus {
    outline: none;
    border-color: var(--primary-orange);
    background: white;
  }

  .btn-apply-promo {
    padding: 10px 20px;
    background: white;
    color: var(--dark-neutral);
    border: 2px solid var(--border-color);
    border-radius: 6px;
    font-weight: 600;
    font-size: 14px;
    cursor: pointer;
    transition: all 0.2s;
    white-space: nowrap;
  }

  .btn-apply-promo:hover {
    background: var(--primary-orange);
    color: white;
    border-color: var(--primary-orange);
  }

  .promo-message {
    font-size: 12px;
    padding: 6px 0;
    min-height: 20px;
  }

  .promo-message.success {
    color: #27ae60;
    font-weight: 600;
  }

  .promo-message.error {
    color: #e74c3c;
    font-weight: 500;
  }

  .btn-back {
    flex: 1;
    padding: 12px 24px;
    background: white;
    color: var(--dark-neutral);
    border: 2px solid var(--border-color);
    border-radius: 6px;
    font-weight: 600;
    font-size: 14px;
    cursor: pointer;
    transition: all 0.2s;
  }

  .btn-back:hover {
    background: #F5F5F7;
    border-color: var(--primary-orange);
  }

  /* Responsive */
  @media (max-width: 968px) {
    .pricing-content {
      grid-template-columns: 1fr;
      gap: 30px;
    }

    .faq-column {
      position: static;
      order: 2;
    }

    .plans-column {
      order: 1;
    }
  }

  @media (max-width: 640px) {
    .pricing-wrapper {
      padding: 20px 12px;
    }

    .pricing-header h1 {
      font-size: 1.6rem;
    }

    .plans-column,
    .payment-section {
      padding: 16px;
    }

    .plan-card {
      flex-direction: column;
      align-items: flex-start;
      padding: 14px;
    }

    .plan-pricing {
      width: 100%;
      text-align: left;
      margin-top: 8px;
    }

    .action-buttons {
      flex-direction: column;
    }
  }
</style>

<div class="pricing-wrapper">
  <!-- STEP 1: Plan Selection -->
  <div id="step1" class="step-container active">
    <div class="pricing-content">
      <!-- LEFT: Wallet + Welcome + FAQ Section -->
      <div class="faq-column">
        <!-- Wallet Info -->
        <div class="wallet-info" id="walletInfo" style="display: none;">
          <h3>Your Current Balance</h3>
          <div class="wallet-balance" id="currentBalance">R0.00</div>
        </div>

        <!-- Header -->
        <div class="pricing-header" style="text-align: left; margin-bottom: 30px;">
          <div class="welcome-text">WELCOME TO ZUKE</div>
          <h1>Select your plan</h1>
        </div>

        <h2 class="faq-column-title">FAQs</h2>
        <div class="faq-list">
          <div class="faq-item">
            <button class="faq-question">
              How does quarterly billing work?
            </button>
            <div class="faq-answer">
              <p>You pay for 3 months upfront. We believe anything good takes time, and we don't want to keep you with us any longer than you want. After your quarter ends, simply renew if you'd like to continue.</p>
            </div>
          </div>

          <div class="faq-item">
            <button class="faq-question">
              What's the difference between plans and top-ups?
            </button>
            <div class="faq-answer">
              <p>Plans give you access to all tools on the platform. Top-ups add credits to your wallet for usage. We recommend different tools for different plans due to the expensive nature of some features like video generation.</p>
            </div>
          </div>

          <div class="faq-item">
            <button class="faq-question">
              Can I cancel my subscription?
            </button>
            <div class="faq-answer">
              <p>Yes, you can cancel anytime from your account settings. You'll continue to have access until the end of your current billing period.</p>
            </div>
          </div>

          <div class="faq-item">
            <button class="faq-question">
              Do you offer refunds?
            </button>
            <div class="faq-answer">
              <p>Refunds are available for Growth plan and above. Fees may apply depending on the balance remaining on your account. Starter plans are non-refundable.</p>
            </div>
          </div>

          <div class="faq-item">
            <button class="faq-question">
              What payment methods are accepted?
            </button>
            <div class="faq-answer">
              <p>We accept all major credit/debit cards through Paystack and PayFast. We also support invitation codes for special promotions.</p>
            </div>
          </div>
        </div>
      </div>

      <!-- RIGHT: Plans Section -->
      <div class="plans-column">
        <!-- Billing Toggle -->
        <div class="billing-toggle">
          <span>3-Month Cycle</span>
          <div class="toggle-switch" id="billingToggle"></div>
          <span>Yearly <small style="color: var(--primary-orange); font-weight: 600;">(Save 17%)</small></span>
        </div>

        <!-- Plan Options -->
        <div class="plan-options" id="planOptions">
          <!-- Plans will be inserted here by JavaScript -->
        </div>

        <!-- Action Buttons -->
        <div class="action-buttons">
          <button class="btn-continue" id="continueBtn" disabled>Continue</button>
        </div>

        <div class="comparison-link">
          <a href="#" id="showComparison">Show full comparison ‚Üí</a>
        </div>
      </div>
    </div>
  </div>

  <!-- STEP 2: Payment Method Selection -->
  <div id="step2" class="step-container">
    <div class="step-indicator">
      Step 2 of 2: <strong>Choose payment method</strong>
    </div>

    <div class="payment-section">
      <div class="pricing-header">
        <div class="welcome-text">PAYMENT METHOD</div>
        <h1>How would you like to pay?</h1>
      </div>

      <div class="selected-plan-summary" id="selectedPlanSummary">
        <!-- Will be populated by JavaScript -->
      </div>

      <!-- Auto-Renewal Checkbox (Hidden for future development) -->
      <div class="auto-renewal-section" style="display: none;">
        <input type="checkbox" id="autoRenewCheckbox" checked>
        <div class="auto-renewal-info">
          <label for="autoRenewCheckbox">Enable auto-renewal</label>
          <p>Your subscription will automatically renew when the billing period ends. You can cancel anytime.</p>
        </div>
      </div>

      <div class="payment-methods" data-clarity-mask="true">
        <div class="payment-card" data-method="paystack">
          <div class="plan-radio"></div>
          <div class="payment-icon">üí≥</div>
          <div class="payment-info">
            <h3>Paystack</h3>
            <p>Secure payment via credit/debit card</p>
          </div>
        </div>

        <div class="payment-card" data-method="payfast">
          <div class="plan-radio"></div>
          <div class="payment-icon">üè¶</div>
          <div class="payment-info">
            <h3>PayFast</h3>
            <p>Instant EFT and card payments</p>
          </div>
        </div>

        <div class="payment-card" data-method="invitation">
          <div class="plan-radio"></div>
          <div class="payment-icon">üéüÔ∏è</div>
          <div class="payment-info">
            <h3>Invitation Code</h3>
            <p>Redeem a promotional code</p>
          </div>
        </div>
      </div>

      <!-- Promotional Code Section (Hidden by default) -->
      <div class="promo-code-section" id="promoCodeSection" style="display: none;">
        <label for="promoCodeInput">Enter your promotional code</label>
        <div class="promo-code-input-group">
          <input 
            type="text" 
            id="promoCodeInput" 
            placeholder="Enter code here"
            maxlength="20"
            data-clarity-mask="true"
          >
          <button type="button" id="applyPromoBtn" class="btn-apply-promo">Apply</button>
        </div>
        <div id="promoMessage" class="promo-message"></div>
      </div>

      <div class="action-buttons">
        <button class="btn-back" id="backBtn">Back</button>
        <button class="btn-continue" id="proceedPaymentBtn" disabled>Proceed to Payment</button>
      </div>
    </div>
  </div>
</div>

<!-- Scripts -->
<script src="https://cdn.auth0.com/js/auth0-spa-js/2.0/auth0-spa-js.production.js"></script>
<script src="https://js.paystack.co/v1/inline.js"></script>
<script type="module">
  import { initPricingPage } from './pricing.js';
  
  // Initialize the pricing page when DOM is ready
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initPricingPage);
  } else {
    initPricingPage();
  }
</script>
</body>
</html>
</div>